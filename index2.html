<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Firebase Saving and Retrieving Data</title>
        <script src="https://www.gstatic.com/firebasejs/4.6.0/firebase.js"></script>
        <script src="https://www.gstatic.com/firebasejs/4.6.0/firebase-firestore.js"></script>
    </head>
    
    <body>

        <h1 id="hotDogOutput">Hot dog status:</h1>
        Key:
        <input type="textfield" id="keyId"/>
        Value:
        <input type="textfield" id="valueId"/>
        <button id="saveButton">Save</button>    
        <script>
             var config = {
                apiKey: "AIzaSyCo3ZOn6BMPskoMm7ZiaSC3bMO0QyxgG4s",
                authDomain: "web-quick-start-66485.firebaseapp.com",
                databaseURL: "https://web-quick-start-66485.firebaseio.com",
                projectId: "web-quick-start-66485",
                storageBucket: "web-quick-start-66485.appspot.com",
                messagingSenderId: "831562373541"
            };
            firebase.initializeApp(config);

            var firestore = firebase.firestore();
            // przykład 1.
            const docRefToDocument = firestore.doc("samples/mojDokument");
            // przykład 2.
            //const docRef = firestore.collection("samples").doc("sandwichData");
            const output = document.querySelector("#hotDogOutput");
            const inputKeyField = document.querySelector("#keyId");
            const inputValueField = document.querySelector("#valueId");
            const saveButton = document.querySelector("#saveButton");

           saveButton.addEventListener("click", function(){
               const keyToSave = inputKeyField.value;
               const valueToSave = inputValueField.value;
               console.log("I am going to save " + valueToSave + " to Firestore.");
               docRefToDocument.set({
                    keyToSave: valueToSave
               })
               .then(function(docRefToDocument) {
                    console.log("Document written with ID: ");
                    })
                    .catch(function(error) {
                        console.error("Error adding document: ", error);
                }); 
            });    
        
        </script>      

    </body>
</html>



